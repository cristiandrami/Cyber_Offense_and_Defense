https://portswigger.net/web-security/cross-site-scripting/dom-based/lab-innerhtml-sink

This lab contains a DOM-based cross-site scripting vulnerability in the search blog functionality. It uses an innerHTML assignment, which changes the HTML contents of a div element, using data from location.search.

To solve this lab, perform a cross-site scripting attack that calls the alert function.



1) search for a random post and see that in the page there is a script:
    <script>
        function doSearchQuery(query) {
            document.getElementById('searchMessage').innerHTML = query;
        }
        var query = (new URLSearchParams(window.location.search)).get('search');
        if(query) {
            doSearchQuery(query);
        }
    </script>

    In this case there is INNER HTML that disallows the usage of <script> tags but allows the <img> tag

    
2) we can directly search 
    <img src=1 onerror=alert()>

    this beacause the query is completely assigned to the inner html


